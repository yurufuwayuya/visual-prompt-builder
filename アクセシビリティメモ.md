# 🦾 手の不自由な方向けアクセシビリティ機能実装プラン

## 🎯 目標

スマホ・タブレット・PCで手の不自由な方が快適に操作できる Visual Prompt
Builder を実現する

## 📊 現状分析結果

- ✅ 基本的なタッチターゲット（44px）は実装済み
- ✅ レスポンシブデザイン対応済み
- ❌ アクセシビリティ設定システムなし
- ❌ 代替入力方法の不足
- ❌ モバイル特有の操作補助なし

## 🚀 実装提案

### 1. **アクセシビリティ設定センター** 🎛️

新しい設定画面を追加し、以下の機能を実装：

- **タッチターゲットサイズ調整**
  - 通常: 44px（現状）
  - 大: 60px（1.4倍）
  - 特大: 80px（1.8倍）
- **タップ認識時間調整**
  - 短押し判定時間: 100ms〜1000ms
  - 長押し判定時間: 500ms〜3000ms
- **誤操作防止モード**
  - ダブルタップ確認
  - 重要操作の確認ダイアログ
  - アンドゥ機能の強化

### 2. **代替入力方法** 🎙️

- **音声操作サポート**
  - Web Speech API を使用した音声コマンド
  - 「次へ」「戻る」「選択」などの基本操作
  - カテゴリ名の音声入力
- **シンプルジェスチャーモード**
  - 上下スワイプで項目選択
  - 左右スワイプでステップ移動
  - タップ＆ホールドで決定
- **ワンボタンモード**
  - 自動スキャンで項目を巡回
  - 任意のキー/タップで選択
  - スキャン速度調整可能

### 3. **UI最適化** 📱

- **フローティングナビゲーション**
  - 画面下部に固定配置
  - 大きな「次へ」「戻る」ボタン
  - ドラッグで位置調整可能
- **簡易モード**
  - 一画面あたりの選択肢を削減（8→4個）
  - テキストサイズ拡大
  - コントラスト強化
- **休憩リマインダー**
  - 操作時間のトラッキング
  - カスタマイズ可能な休憩提案

### 4. **スマートアシスト機能** 🤖

- **予測入力**
  - 過去の選択履歴から次の選択を予測
  - よく使う組み合わせをワンタップで選択
- **音声フィードバック**
  - 選択項目の読み上げ
  - 操作確認音
- **振動フィードバック**
  - 選択時の触覚フィードバック
  - エラー時の特別な振動パターン

### 5. **デバイス別最適化** 💻

- **スマートフォン**
  - 片手操作モード
  - 親指リーチ範囲内に重要ボタン配置
- **タブレット**
  - 両手持ち対応レイアウト
  - エッジスワイプ操作
- **PC**
  - マウスドウェルクリック
  - カスタマイズ可能なキーボードショートカット

## 📋 実装優先順位

### Phase 1: 基盤構築（1週間）

- アクセシビリティ設定ストア作成
- 設定画面の実装
- タッチターゲットサイズ調整機能

### Phase 2: 代替入力（2週間）

- 音声操作の実装
- ワンボタンモードの実装
- シンプルジェスチャーの実装

### Phase 3: UI最適化（1週間）

- フローティングナビゲーション
- 簡易モード
- 振動/音声フィードバック

### Phase 4: スマート機能（1週間）

- 予測入力
- 使用パターン学習
- パフォーマンス最適化

## 🧪 テスト戦略

- 実際の障害者団体との協力テスト
- 各種支援技術との互換性確認
- パフォーマンステスト（レスポンス時間）

## 📊 成功指標

- タスク完了時間の50%短縮
- 誤操作率の80%削減
- ユーザー満足度90%以上

## 🛠️ 技術的実装詳細

### アクセシビリティストア（Zustand）

```typescript
interface AccessibilityState {
  // タッチターゲット設定
  touchTargetSize: 'normal' | 'large' | 'extra-large';

  // タップ認識時間
  tapDuration: number; // ms
  longPressDuration: number; // ms

  // 誤操作防止
  confirmationMode: boolean;
  undoEnabled: boolean;

  // 代替入力
  voiceControlEnabled: boolean;
  oneTouchMode: boolean;
  gestureMode: boolean;
  scanSpeed: number; // ms

  // UI最適化
  simplifiedMode: boolean;
  floatingNavEnabled: boolean;
  floatingNavPosition: { x: number; y: number };

  // フィードバック
  audioFeedback: boolean;
  hapticFeedback: boolean;

  // 休憩リマインダー
  breakReminder: boolean;
  breakInterval: number; // minutes
}
```

### 実装に必要な主要コンポーネント

1. `AccessibilitySettings.tsx` - 設定画面
2. `FloatingNavigation.tsx` - フローティングナビゲーション
3. `VoiceControl.tsx` - 音声操作コンポーネント
4. `OneTouchScanner.tsx` - ワンボタンモード実装
5. `AccessibilityProvider.tsx` - 全体の設定を管理するプロバイダー

### 既存コンポーネントの修正

- `Button.tsx` - 動的なサイズ調整対応
- `CategoryStep.tsx` - グリッドレイアウトの簡易モード対応
- `App.tsx` - アクセシビリティプロバイダーの追加

この実装により、手の不自由な方々が Visual Prompt
Builder を快適に使用できるようになります。
