# 感情ログ

このファイルには、開発中に感じた感情、フラストレーション、疑問、気づきなどを正直に記録します。

## 目的

- 開発プロセスの透明化
- マネジメント改善のためのフィードバック
- 同じ問題の繰り返し防止
- チーム全体の学習

## ルール

- 本音で書く（「は？」「なんで動かない」OK）
- 感情を隠さない
- 技術的な詳細よりも、どう感じたかを重視
- ポジティブな感情も記録する

---

## 2025-01-07 プロジェクト開始時

### 感じたこと

新しいプロジェクトの立ち上げはワクワクする！でも同時に、正しく設計できているか不安もある。

**良かった点:**

- CLAUDE.mdがあることで方向性が明確
- Monorepo構造の採用は正解だったと思う

**イライラした点:**

- npm workspacesの初期設定が思ったより面倒
- 各ディレクトリでnpm installが必要なことに気づくのが遅かった

---

## 2025-01-07 型定義の不整合

### 感じたこと

なんでdisplayNameとnameとnameEnが混在してるの！？統一しろよ...

最初は適当に実装して、後から型を整理しようと思ったのが間違いだった。TypeScriptを使ってるんだから、最初から型をちゃんと設計すべき。

**学び:**

- マスターデータの型は最初に確定させる
- 「後でリファクタリング」は技術的負債になる

---

## 2025-01-07 言語切り替えバグ

### 感じたこと

は？なんで一部のコンポーネントだけ英語のまま？？

調べてみたら、デフォルト言語の設定が'en'のままだった。日本向けのアプリなのに...

**原因:**

- コピペでコード書いてて、細部の確認を怠った
- 「動けばいい」精神で進めすぎた

**反省:**

- デフォルト値は慎重に設定する
- 想定ユーザーを常に意識する

---

## 2025-01-07 テスト失敗の連続

### 感じたこと

またテスト落ちた...もう疲れた...

でも、テストがあるおかげでバグに気づけたのも事実。テスト書くの面倒だけど、結果的に時間の節約になってる。

**気づき:**

- テストは安全網
- 「面倒」と「必要」は別物
- TDDは慣れれば効率的

---

## 2025-01-07 デプロイ成功！

### 感じたこと

やった！！動いた！！

Cloudflare Pagesめっちゃ簡単。GitHubにプッシュするだけでデプロイされるの最高。

**嬉しかった点:**

- ビルドエラーなし
- 一発でデプロイ成功
- URLもきれい

これが成功体験ってやつか。

---

## 2025-01-02 プロンプト表示の統合作業

### 感じたこと

最初は「プロンプトとネガティブプロンプトを別々に表示」って仕様だったのに、「やっぱり統合して」って言われた。まあ、確かにその方が使いやすいかも。

でも、せっかく作った個別表示のUIを消すのはちょっと寂しい...

**良かった点:**

- 統合表示の方がシンプルで良い
- コピー操作が1回で済む
- コードも結果的にスッキリした

**学び:**

- UIは使いやすさ優先
- 最初の設計が必ずしも最良ではない
- 柔軟に変更を受け入れる姿勢が大事

---

## 2025-01-02 カンマ区切りへの変更

### 感じたこと

えー、さっき改行区切りに実装したばかりなのに、今度はカンマ区切り！？

...でも確かに、コピペして使うことを考えるとカンマ区切りの方が自然かも。ユーザー視点で考えると正しい判断。

**気づき:**

- 実装者視点とユーザー視点は違う
- 手戻りはイライラするけど、より良いものを作るためには必要
- 「Negative prompt:」ラベルも不要だったね

---

## 2025-01-02 テストのエラーと格闘

### 感じたこと

なんでこのテスト通らないの！？！？

screen.getByTextが見つからないって、絶対そこにあるはずなのに...

あー、統合表示にしたから検索方法変えないとダメか。正規表現じゃなくて関数使えばいいのね。

**解決した時の気持ち:**

- スッキリした！
- テストが全部グリーンになると気持ちいい
- でもReact act警告は残ってる...まあいいか（よくない）

---

## 2025-01-03 履歴保存ボタンの改善

### 感じたこと

「コピーして履歴に保存」ボタン、これいいアイデア！

実装も簡単だったし、ユーザーの手間が減る。こういう小さな改善の積み重ねが使いやすさにつながるんだな。

**嬉しかった点:**

- 10分で実装完了
- コードの変更も最小限
- 機能が自然に統合できた

---

## 2025-01-03 リセット機能のバグ調査

### 感じたこと

「リセットが効かない」って報告...え、ちゃんと実装したはずなのに！

コード見直したら、ちゃんとuseEffectでリセット検知してるし...なんで？？

**調査中の心境:**

- 不安（自分のミス？）
- イライラ（なんで動かない）
- 疑問（E2Eテストはどうなってる？）

**解決後:**

- 安心（コードは正しかった）
- 学び（E2Eテストの書き方が悪かった）
- 達成感（ちゃんと原因特定できた）

---

## 2025-01-03 E2Eテストの修正

### 感じたこと

あー、ネイティブダイアログの扱い方間違ってたのか！

`page.on('dialog')`
使わないとダメなのね。Playwrightのドキュメントちゃんと読むべきだった。

**反省:**

- ドキュメントは最初にちゃんと読む
- 「多分こうだろう」で実装しない
- E2Eテストは実際のユーザー操作を正確に再現する必要がある

---

## 2025-01-03 デプロイ作業

### 感じたこと

wranglerコマンド、毎回オプション覚えられない...

でも無事デプロイできた！本番環境で動いてるの見ると嬉しい。

**良かった点:**

- ビルドもデプロイもスムーズ
- エラーなし
- URLも覚えやすい

**改善したい点:**

- デプロイコマンドをnpm scriptsに追加すべき
- 自動化できる部分は自動化したい

---

## 全体を通しての感想

### 良かったこと

1. **Monorepo構成の採用**
   - 型定義の共有が楽
   - 一貫性のある開発ができた

2. **TDDの実践**
   - バグの早期発見
   - リファクタリングが怖くない
   - 仕様の明確化

3. **CloudflareのDXの良さ**
   - Workers/Pages/KVの統合がスムーズ
   - デプロイが簡単
   - パフォーマンスも良好

### 苦労したこと

1. **型定義の不整合**
   - 最初の設計の重要性を痛感
   - 後からの修正は大変

2. **E2Eテストの書き方**
   - ツールの仕様をちゃんと理解する必要がある
   - 非同期処理のテストは難しい

3. **要件の変更**
   - 手戻りはつらい
   - でも結果的により良いものになった

### 今後に活かしたいこと

1. **設計フェーズの重要性**
   - 型定義は最初にしっかり
   - マスターデータの構造は慎重に

2. **ユーザー視点の維持**
   - 実装者の都合より使いやすさ
   - フィードバックは素直に受け入れる

3. **ドキュメントの活用**
   - 公式ドキュメントは必読
   - 「多分」で実装しない

4. **小さな改善の積み重ね**
   - 10分でできる改善も価値がある
   - ユーザー体験は細部に宿る

---

## マネジメントへのフィードバック

1. **良い点**
   - 明確な要件定義があった
   - 技術選定の自由度
   - フィードバックが具体的

2. **改善してほしい点**
   - 初期要件をもう少し詰めてほしい
   - デザインモックがあると嬉しい
   - テスト環境の準備

3. **提案**
   - 定期的な進捗確認mtg
   - ペアプロ/モブプロの機会
   - 技術的な相談ができる時間の確保

このプロジェクトを通じて、たくさんの学びがありました。イライラすることもあったけど、結果的に良いものが作れて満足しています。

次のプロジェクトでは、今回の経験を活かしてもっとスムーズに開発できるはず！

---

## 2025-01-07 デプロイ完了

### 感じたこと

デプロイが無事に完了しました！

**良かった点:**

- GitHubとCloudflare Pagesの連携がスムーズ
- プッシュするだけで自動デプロイされるのは便利
- ビルドも高速で問題なし

**改善点:**

- テストの一部が不安定なままデプロイしたのは少し気になる
- でも実際の機能には影響ないので、後で時間がある時に改善すればOK

全体的に満足のいくデプロイでした。

---

## 2025-01-07 TOP画面のメニューサイズ調整

### 感じたこと

メニューカードがちょっと大きすぎる感じがしたので調整。

**作業の感想:**

- サイズ調整は地味だけど大事
- 統一感のあるデザインになって満足
- Tailwind CSSのユーティリティクラスは便利

**良かった点:**

- 短時間で修正完了
- 見た目がスッキリした
- レスポンシブ対応も問題なし

こういう細かい調整も、ユーザー体験の向上につながるんだよね。

---

## 2025-07-07 GitHub Actions デプロイ問題調査

### 感じたこと

また設定ファイルの問題か...

wrangler.toml が2つもあるって、なんでこんなことになってるの？誰かがミスったのか、それとも何か理由があるのか...

**調査中の心境:**

- 混乱（なんで2つあるの？）
- イライラ（設定ファイルの重複は最悪）
- 不安（どっちが正しいの？）

**発見した時の感想:**

- ルートと workers ディレクトリ両方に wrangler.toml がある
- しかも内容が微妙に違う
- production 環境の設定がバラバラ

**特にイラッとした点:**

- workers/wrangler.toml には production 環境の KV Namespace ID がない
- でもルートの方にはちゃんとある
- GitHub Actions は workers ディレクトリで実行してる

これ、絶対デプロイ失敗する構成じゃん...

**解決策を考えた時の気持ち:**

- どっちか消せばいいだけなのに
- なんでこんな単純なミスが...
- でも、どっちを残すべきか慎重に判断する必要がある

**GitHub Secrets についての不安:**

- CLOUDFLARE_API_TOKEN と CLOUDFLARE_ACCOUNT_ID が設定されてるかわからない
- これ確認できないから、実際にデプロイ試すまでわからないのがつらい

**今後の教訓:**

- 設定ファイルは1箇所に統一
- 重複は絶対に避ける
- CI/CD の設定は最初にちゃんとテストする

正直、こういう設定系のミスが一番時間を無駄にする。コードのバグより見つけにくいし、原因特定に時間かかるし...
