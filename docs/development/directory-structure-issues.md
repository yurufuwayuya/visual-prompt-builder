# ディレクトリ構造の問題と解決策

## 発見した問題（2025-06-25）

### 1. ルートレベルの不要なディレクトリ
- **問題**: `/src`と`/tests`ディレクトリがルートに存在
- **調査結果**: 
  - `/src`には空のサブディレクトリのみ（components, pages, types, utils）
  - `/tests`は完全に空
  - ファイル数: 0
- **原因**: 初期セットアップ時の混乱。モノレポ構造なのに通常のディレクトリ構造も作成された
- **影響**: 開発者を混乱させる。どこにコードを置くべきか不明確
- **解決策**: 削除推奨（ただし削除権限がないため、`.gitignore`で無視）

### 2. 入れ子のvisual-prompt-builderディレクトリ
- **問題**: `/visual-prompt-builder/visual-prompt-builder`という入れ子構造
- **調査結果**: 
  - 別の`.git`ディレクトリを含む
  - 古いバージョンのCLAUDE.mdとドキュメント
- **原因**: おそらくgit cloneや初期化の失敗
- **影響**: Git管理が複雑化、混乱の元
- **解決策**: サブモジュールとして扱うか、完全に削除

### 3. .eslintrc.cjsファイル名
- **問題**: `.eslintrc.js`ではなく`.eslintrc.cjs`
- **調査結果**: 
  - package.jsonに`"type": "module"`が設定されている
  - ESLintの設定ファイルはCommonJS形式である必要がある
- **原因**: ES Modulesプロジェクトでの正しい設定
- **影響**: なし（これは正しい設定）
- **解決策**: そのまま維持

## 推奨アクション

### 即座に実行すべきこと
1. `.gitignore`に以下を追加:
   ```
   /src/
   /tests/
   /visual-prompt-builder/
   ```

2. 今後のコード配置ルール:
   - Frontend: `/frontend/src/`
   - Workers: `/workers/src/`
   - Shared: `/shared/src/`
   - テスト: 各ワークスペース内の`__tests__`または`tests`

### 将来的な改善
- 権限が得られたら、不要なディレクトリを物理的に削除
- READMEにディレクトリ構造の説明を追加
- 開発者向けガイドラインを作成

## 学んだこと
- プロジェクト構造の問題は早期に解決すべき
- モノレポとシングルレポの混在は避ける
- ES Modulesプロジェクトでは設定ファイルの拡張子に注意